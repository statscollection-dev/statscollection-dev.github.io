
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
    <title>statscollection.online.sampling.Sample &#8212; statscollection 0.0.1 documentation</title>
    <link rel="stylesheet" href="../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/gallery.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/js/copybutton.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Example" href="example.html" />
    <link rel="prev" title="statscollection.online.classes.Max" href="statscollection.online.classes.Max.html" />
  
  <link rel="apple-touch-icon" href="../_static/images/logos/statscollection_logo.png" />
  
   

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="example.html" title="Example"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="statscollection.online.classes.Max.html" title="statscollection.online.classes.Max"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">statscollection 0.0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="online.html" accesskey="U">Online</a> &#187;</li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar">
<div class="sidebar-block">
  <div class="sidebar-wrapper">
  <a href="../index.html">
    <img src="../_static/images/logos/statscollection_logo.png" style="width:100%; margin-bottom: 0.5em;">
    </a>
    <!-- <footer>Slogan goes here</footer> -->
    
    <a href="https://travis-ci.com/statscollection-dev/statscollection">
      <img src="https://travis-ci.com/statscollection-dev/statscollection.svg?branch=master" alt="Build Status" />
    </a>
    
    <a href="https://badge.fury.io/py/statscollection">
      <img src="https://badge.fury.io/py/statscollection.svg" alt="PyPI version" />
    </a>

    
    <h2>Table Of Contents</h2>
  
  <div class="sidebar-toc">
    
    
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Statscollection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="online.html">Online</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="online.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="online.html#tutorial">Tutorial</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery_generated_examples/index.html">Example gallery</a></li>
</ul>

    
  </div>
  
  <h2>Get involved on GitHub</h2>
  
  <div class="sidebar-toc">
<ul>
  
  <li class="toctree-l1">
  <!-- Github buttons. -->
    <span style="padding: 5px 25px;">
    <a class="github-button" href="https://github.com/statscollection-dev/statscollection" 
    data-icon="octicon-star" data-size="large" data-show-count="true" 
    aria-label="Star statscollection-dev/statscollection on GitHub">Star</a>
    </span>
  </li>
  
  <li class="toctree-l1">
    <span style="padding: 5px 25px;">
    <a class="github-button" href="https://github.com/statscollection-dev/statscollection/fork" 
    data-icon="octicon-repo-forked" data-size="large" data-show-count="true" 
    aria-label="Fork statscollection-dev/statscollection on GitHub"
    style="margin-left:10px;">Fork</a>
    </span>
  </li>
</ul>
</div>
  
 
 </div>
 </div>
      
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="../index.html">Docs</a></li>
              
                <li><a href="online.html">Online</a></li>
              
              <li>statscollection.online.sampling.Sample</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <div class="section" id="statscollection-online-sampling-sample">
<h1>statscollection.online.sampling.Sample<a class="headerlink" href="#statscollection-online-sampling-sample" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="statscollection.online.sampling.Sample">
<em class="property">class </em><code class="descclassname">statscollection.online.sampling.</code><code class="descname">Sample</code><span class="sig-paren">(</span><em>num_samples=10</em>, <em>replace=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/statscollection/online/sampling.html#Sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#statscollection.online.sampling.Sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample with equal probability from an iterable of unknown length.</p>
<p>This algorithm maintains a sample of <code class="docutils literal notranslate"><span class="pre">num_samples</span></code> items as it iterates
over a data stream of unknown length. This method of sampling is called
<em>reservoir sampling</em>. The algorithm guarantees that at any time, the
probability that any seen item is in the sample is equal. The algorithm
accomplishes this by decreasing the probability that an item in the sample
will be replaced by a newly seen item as it iterates over the data stream.</p>
<p>Two different algorithms are implemented: one for sampling without
replacement <a class="footnote-reference" href="#id3" id="id1">[1]</a> and one for sampling with replacements <a class="footnote-reference" href="#id4" id="id2">[2]</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_samples</strong> (<em>int</em>) – The number of samples to keep in the reservoir.</li>
<li><strong>replace</strong> (<em>bool</em>) – Whether or not sampling is with replacement.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>  <span class="c1"># The algorithm is stochastic. Seed to reproduce.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<p>When sampling without replacement, the reservoir will fill up gradually.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sampler</span> <span class="o">=</span> <span class="n">Sample</span><span class="p">(</span><span class="n">num_samples</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">sampler</span><span class="o">.</span><span class="n">yield_from</span><span class="p">(</span><span class="n">stream</span><span class="p">):</span>
<span class="gp">... </span>  <span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
<span class="go">[1]</span>
<span class="go">[1, 2]</span>
<span class="go">[1, 2, 3]</span>
<span class="go">[4, 2, 3]</span>
<span class="go">[4, 2, 5]</span>
</pre></div>
</div>
<p>When sampling with replacement, the reservoir will fill up immediately.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sampler</span> <span class="o">=</span> <span class="n">Sample</span><span class="p">(</span><span class="n">num_samples</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">sampler</span><span class="o">.</span><span class="n">yield_from</span><span class="p">(</span><span class="n">stream</span><span class="p">):</span>
<span class="gp">... </span>  <span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
<span class="go">[1, 1, 1, 1, 1, 1, 1, 1, 1, 1]</span>
<span class="go">[2, 2, 1, 1, 2, 1, 2, 1, 1, 1]</span>
<span class="go">[3, 2, 1, 1, 2, 1, 3, 1, 1, 1]</span>
<span class="go">[3, 2, 1, 1, 2, 4, 3, 1, 4, 4]</span>
<span class="go">[5, 2, 5, 1, 2, 5, 3, 1, 4, 4]</span>
</pre></div>
</div>
<p class="rubric">References</p>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Jeffrey S. Vitter. <em>Random sampling with a reservoir</em>.
ACM Transactions on Mathematical Software (TOMS), 1985.
doi&gt;10.1145/3147.3165</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>Park, Byung-Hoon &amp; Ostrouchov, George &amp; Samatova,
Nagiza &amp; Geist, Al. (2004). <em>Reservoir-Based Random Sampling with
Replacement from Data Stream</em>.
doi&gt;10.1137/1.9781611972740.53.</td></tr>
</tbody>
</table>
<dl class="method">
<dt id="statscollection.online.sampling.Sample.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>num_samples=10</em>, <em>replace=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/statscollection/online/sampling.html#Sample.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#statscollection.online.sampling.Sample.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#statscollection.online.sampling.Sample.__init__" title="statscollection.online.sampling.Sample.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>([num_samples,&nbsp;replace])</td>
<td>Initialize self.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">evaluate</span></code>()</td>
<td>Return the computed statistic.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">fit</span></code>(iterable_or_item)</td>
<td>Fit an iterable object or a single item.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">return_from</span></code>(iterable)</td>
<td>Fit item-by-item and yield the sequential results.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">yield_from</span></code>(iterable)</td>
<td>Fit item-by-item and yield the sequential results.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="statscollection.online.classes.Max.html" title="previous chapter (use the left arrow)">statscollection.online.classes.Max</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="example.html" title="next chapter (use the right arrow)">Example</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="example.html" title="Example"
             >next</a> |</li>
        <li class="right" >
          <a href="statscollection.online.classes.Max.html" title="statscollection.online.classes.Max"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">statscollection 0.0.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="online.html" >Online</a> &#187;</li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="../_static/js/bootstrap.js"></script>

<!-- Place this tag in your head or just before your close body tag. -->
<script async defer src="https://buttons.github.io/buttons.js"></script>
  <div class="footer">
    &copy; Copyright 2019 - 2019, tommyod.
  </div>
  </body>
</html>